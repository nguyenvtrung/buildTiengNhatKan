import{j as e,r as m,b as F,u as _,c as D}from"./index-ByT4KsQN.js";import{u as H}from"./index-DO-ii5RA.js";import{T as U}from"./index-Dzx410S6.js";import{Q as G,c as Q}from"./confetti.module-CM1_XtWK.js";import{u as W}from"./index-D32SFAGw.js";import"./Breadcrumbs-Bak1qK7Q.js";import"./iconBase-MXzLadDV.js";import"./style-D6wzNOxB.js";import"./index-BJPuBdRG.js";const K=({score:l,totalQuestions:t,handleReset:i,isAnimatedTheme:s,isSidebarVisible:r,setIsSidebarVisible:n,setIsMobileMenuOpen:a})=>e.jsx("header",{className:" sticky top-15 z-40 w-full",children:e.jsx("div",{className:" max-w-7xl mx-auto px-5 h-16 flex items-center justify-center lg:justify-end",children:e.jsx("div",{className:"flex items-center gap-2 lg:gap-3",children:e.jsxs("div",{className:"  flex items-center bg-slate-100/70  px-2 py-1 border border-slate-400 gap-1 rounded-full",children:[e.jsxs("div",{className:"px-3 py-1 flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-800 uppercase",children:"Äiá»ƒm"}),e.jsxs("span",{className:"text-sm font-black text-custom-primary ",children:[l,"/",t]})]}),e.jsx("button",{onClick:()=>n(!r),className:"hidden lg:flex items-center justify-center px-4 h-8 rounded-full bg-white border border-slate-200 text-[10px] font-black text-slate-500 hover:text-custom-primary hover:border-custom-primary transition-all shadow-sm uppercase tracking-tight",title:r?"ÄÃ³ng báº£ng Ä‘iá»u khiá»ƒn":"Hiá»‡n báº£ng Ä‘iá»u khiá»ƒn",children:r?"ÄÃ³ng cÃ i Ä‘áº·t":"Má»Ÿ cÃ i Ä‘áº·t"}),e.jsx("button",{onClick:i,className:"group hidden lg:flex items-center justify-center px-4 h-8 rounded-full bg-white border border-slate-200 text-[10px] font-black text-slate-500 hover:text-custom-primary hover:border-custom-primary transition-all shadow-sm uppercase tracking-tight",title:"Reset bÃ i tráº¯c nghiá»‡m",children:e.jsx(U,{size:20,className:"transition-all group-hover:animate-spin"})}),e.jsx("button",{onClick:()=>a(!0),className:" lg:hidden p-2 rounded-xl bg-white border border-slate-200 text-slate-600 shadow-sm hover:bg-slate-50",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 aspect-square",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})})]})})})}),X=["#4f46e5","#0ea5e9","#10b981","#f59e0b","#ec4899"],P=[{name:"Cosmic Indigo",value:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 33%, #3b82f6 66%, #4f46e5 100%)",solid:"#4f46e5"},{name:"Tropical Mint",value:"linear-gradient(135deg, #0ea5e9 0%, #10b981 33%, #06b6d4 66%, #0ea5e9 100%)",solid:"#0ea5e9"},{name:"Fiery Sunset",value:"linear-gradient(135deg, #f59e0b 0%, #ef4444 33%, #f97316 66%, #f59e0b 100%)",solid:"#f59e0b"},{name:"Electric Berry",value:"linear-gradient(135deg, #ec4899 0%, #8b5cf6 33%, #d946ef 66%, #ec4899 100%)",solid:"#ec4899"}],Z=["#4f46e5","#10b981","#f43f5e","#f59e0b","#8b5cf6","#000000"],B=[{row_index:1,id:1,title:"HoÃ ng Sa ,TrÆ°á»ng Sa lÃ  cá»§a Viá»‡t Nam.",correctanswer:!0,explanation:"HoaÌ€ng Sa, TruÌ›oÌ›Ì€ng Sa laÌ€ cuÌ‰a VieÌ£Ì‚t Nam .",translate:"HoÃ ng Sa ,TrÆ°á»ng Sa lÃ  cá»§a Viá»‡t Nam."}],q=(l,t,i)=>{const s=[];let r=0;for(let n=0;n<l.length;n++)for(let a=0;a<l[n].length;a++)if(r<t){const u={row_index:l[n][a].row_index,id:i(l[n][a].id),title:i(l[n][a].title),correctanswer:i(l[n][a].correctanswer)==="true",explanation:i(l[n][a].explanation),translate:i(l[n][a].translate)};s.push(u),r++}else return s;return s},z=({questions:l,answers:t,currentIdx:i,scrollToQuestion:s,handleReset:r,setIsSidebarVisible:n,loadMore:a,setIsMobileMenuOpen:u,isAnimatedTheme:o,mode:N,setMode:T,autoNext:v,setAutoNext:y,autoScroll:k,setAutoScroll:$,sidebarPos:L,setSidebarPos:j,btnPos:C,setBtnPos:S,btnOrder:M,setBtnOrder:p,isAnimatedThemeToggle:A,setIsAnimatedTheme:V,themeColor:I,setThemeColor:c,solidColor:x,setSolidColor:h,activeBorderColor:f,setActiveBorderColor:w})=>{const[E,O]=m.useState(!1),g=E?l.length:Math.min(l.length,10),R=l.length>10;return e.jsxs("div",{className:"space-y-6 w-full py-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-tight shrink-0",children:"Tiáº¿n Ä‘á»™"}),e.jsx("button",{onClick:a,className:"text-[10px] bg-slate-100 hover:bg-slate-200 text-slate-600 px-2 py-0.5 rounded-md border border-slate-200 transition-colors font-bold uppercase",children:"+10 cÃ¢u má»›i"}),e.jsx("div",{className:" items-center gap-3 flex lg:hidden",children:e.jsx("button",{onClick:r,className:"text-[10px] font-bold text-custom-primary hover:underline uppercase whitespace-nowrap",children:"LÃ m láº¡i"})})]}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:l.slice(0,g).map((d,b)=>e.jsx("button",{onClick:()=>{s(b),u&&u(!1)},className:`h-9 w-full rounded-lg border-2 text-xs font-black transition-all flex items-center justify-center ${t[l[b].id]===null||t[l[b].id]===void 0?"bg-white border-slate-200 text-slate-400":t[l[b].id]===l[b].correctanswer?`bg-custom-primary text-white border-transparent ${o?"animate-gradient":""}`:"bg-red-500 text-white border-transparent"} ${i===b?"ring-2 ring-offset-2 ring-slate-300":""}`,children:b+1},b))}),R&&e.jsx("button",{onClick:()=>O(!E),className:"w-full py-1 text-[10px] font-bold text-slate-400 hover:text-custom-primary transition-colors flex items-center justify-center gap-1 border border-dashed border-slate-200 rounded-lg mt-2",children:E?e.jsxs(e.Fragment,{children:["Thu gá»n ",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 15l7-7 7 7"})})]}):e.jsxs(e.Fragment,{children:["Xem thÃªm ",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})]})})]}),e.jsxs("div",{className:"p-1 bg-slate-100 rounded-xl flex",children:[e.jsx("button",{onClick:()=>T("SINGLE"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${N==="SINGLE"?"bg-white text-custom-primary shadow-sm":"text-slate-500"}`,children:"Tá»«ng cÃ¢u"}),e.jsx("button",{onClick:()=>T("LIST"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${N==="LIST"?"bg-white text-custom-primary shadow-sm":"text-slate-500"}`,children:"Danh sÃ¡ch"})]}),e.jsxs("div",{className:"space-y-4 pt-2",children:[N==="SINGLE"?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Tá»± Ä‘á»™ng chuyá»ƒn cÃ¢u"}),e.jsx("button",{onClick:()=>y(!v),className:`relative inline-flex h-5 w-10 items-center rounded-full transition-colors ${v?"bg-custom-primary":"bg-slate-300"}`,children:e.jsx("span",{className:`inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform ${v?"translate-x-6":"translate-x-0.5"}`})})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Tá»± Ä‘á»™ng cuá»™n"}),e.jsx("button",{onClick:()=>$(!k),className:`relative inline-flex h-5 w-10 items-center rounded-full transition-colors ${k?"bg-custom-primary":"bg-slate-300"}`,children:e.jsx("span",{className:`inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform ${k?"translate-x-6":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Vá»‹ trÃ­ Báº£ng (PC)"}),e.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[e.jsx("button",{onClick:()=>j("left"),className:`px-2 py-1 text-[10px] font-bold rounded-md ${L==="left"?"bg-white text-custom-primary shadow-sm":"text-slate-400"}`,children:"TrÃ¡i"}),e.jsx("button",{onClick:()=>j("right"),className:`px-2 py-1 text-[10px] font-bold rounded-md ${L==="right"?"bg-white text-custom-primary shadow-sm":"text-slate-400"}`,children:"Pháº£i"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"CÄƒn lá» nÃºt báº¥m"}),e.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[e.jsx("button",{onClick:()=>S("left"),className:`px-2 py-1 text-[10px] font-bold rounded-md ${C==="left"?"bg-white text-custom-primary shadow-sm":"text-slate-400"}`,children:"TrÃ¡i"}),e.jsx("button",{onClick:()=>S("center"),className:`px-2 py-1 text-[10px] font-bold rounded-md ${C==="center"?"bg-white text-custom-primary shadow-sm":"text-slate-400"}`,children:"Giá»¯a"}),e.jsx("button",{onClick:()=>S("right"),className:`px-2 py-1 text-[10px] font-bold rounded-md ${C==="right"?"bg-white text-custom-primary shadow-sm":"text-slate-400"}`,children:"Pháº£i"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Thá»© tá»± ÄÃºng/Sai"}),e.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[e.jsx("button",{onClick:()=>p("true-first"),className:`px-2 py-1 text-[10px] font-bold rounded-md ${M==="true-first"?"bg-white text-custom-primary shadow-sm":"text-slate-400"}`,children:"ÄÃºng trÆ°á»›c"}),e.jsx("button",{onClick:()=>p("false-first"),className:`px-2 py-1 text-[10px] font-bold rounded-md ${M==="false-first"?"bg-white text-custom-primary shadow-sm":"text-slate-400"}`,children:"Sai trÆ°á»›c"})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-tight block mb-2",children:"MÃ u Gradient"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:P.map(d=>e.jsx("button",{onClick:()=>{c(d.value),h(d.solid)},className:`h-10 rounded-lg border-2 transition-all text-[10px] font-black text-white shadow-sm flex items-center justify-center leading-tight p-1 ${I===d.value?"border-slate-800 scale-105":"border-transparent"} ${A&&I===d.value?"animate-gradient":""}`,style:{background:d.value},children:d.name},d.name))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-tight",children:"MÃ u Ä‘Æ¡n (Solid)"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-5 h-5 rounded-full border border-slate-200",style:{backgroundColor:x}}),e.jsx("input",{type:"color",value:x,onChange:d=>{h(d.target.value),c(d.target.value)},className:"absolute inset-0 opacity-0 cursor-pointer"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:X.map(d=>e.jsx("button",{onClick:()=>{c(d),h(d)},className:`w-7 h-7 rounded-lg border-2 transition-all ${x===d?"border-slate-800 scale-110":"border-transparent"}`,style:{backgroundColor:d}},d))}),e.jsxs("div",{className:"pt-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-tight",children:"MÃ u viá»n cÃ¢u"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-5 h-5 rounded-full border border-slate-200",style:{backgroundColor:f}}),e.jsx("input",{type:"color",value:f,onChange:d=>w(d.target.value),className:"absolute inset-0 opacity-0 cursor-pointer"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Z.map(d=>e.jsx("button",{onClick:()=>w(d),className:`w-6 h-6 rounded-md border-2 transition-all ${f===d?"border-slate-800 scale-110":"border-transparent"}`,style:{backgroundColor:d}},d))})]})]})]})},J=({isAnimatedTheme:l,handleReset:t,onClose:i,loadMore:s})=>{const r=()=>{s&&s(),i()};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-sm overlay-fade-in",children:e.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl max-w-sm w-full overflow-hidden modal-bounce-in text-center p-10",children:[e.jsx("div",{className:`w-20 h-20 bg-custom-primary/10 rounded-full flex items-center justify-center text-4xl mx-auto mb-6 shadow-inner ring-4 ring-custom-primary/5 ${l?"animate-gradient":""}`,children:"ðŸ†"}),e.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight mb-2",children:"XUáº¤T Sáº®C!"}),e.jsx("p",{className:"text-slate-500 font-medium mb-8",children:"Báº¡n Ä‘Ã£ hoÃ n thÃ nh bÃ i tráº¯c nghiá»‡m vá»›i sá»‘ Ä‘iá»ƒm tuyá»‡t Ä‘á»‘i."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:t,className:`w-full py-4 bg-custom-primary text-white font-black rounded-2xl hover:brightness-110 shadow-lg shadow-custom-primary/20 transition-all text-lg ${l?"animate-gradient":""}`,children:"LÃ m má»›i"}),e.jsx("button",{onClick:i,className:"w-full py-4 bg-slate-100 text-slate-600 font-bold rounded-2xl hover:bg-slate-200 transition-all",children:"XEM Láº I ÄÃP ÃN"}),e.jsx("button",{onClick:r,className:"w-full py-4 bg-slate-100 text-slate-600 font-bold rounded-2xl hover:bg-slate-200 transition-all",children:"XEM Láº I ÄÃP ÃN VÃ€ THÃŠM 10 CÃ‚U"})]})]})})},Y=({isOpen:l,onClose:t,sidebarProps:i})=>l?e.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden flex justify-end",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm overlay-fade-in",onClick:t}),e.jsxs("div",{className:"relative h-full w-80 bg-white shadow-2xl flex flex-col animate-in slide-in-from-right duration-300",children:[e.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-6 bg-white border-b border-slate-100 shrink-0",children:[e.jsx("h2",{className:"text-lg font-black text-slate-800",children:"Tiá»‡n Ã­ch"}),e.jsx("button",{onClick:t,className:"p-2 rounded-xl bg-slate-50 text-slate-400 hover:text-slate-600",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-12 relative",children:e.jsx(z,{...i})})]})]}):null,ee=({game:l,settings:t})=>{const{questions:i,currentIdx:s,answers:r,handleAnswer:n,scrollToQuestion:a}=l,u=i[s];return u?e.jsx("div",{className:"space-y-6 px-2",children:e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsxs("span",{className:"text-xs font-black text-custom-primary uppercase",children:["CÃ¢u ",s+1," / ",i.length]}),e.jsxs("span",{className:"text-xl font-black text-slate-800",children:[Math.round((s+1)/i.length*100),"%"]})]}),e.jsx("div",{className:"bg-slate-100 rounded-full h-3 overflow-hidden mb-6",children:e.jsx("div",{className:`bg-custom-primary h-full transition-all duration-700 ease-out ${t.isAnimatedTheme?"animate-gradient":""}`,style:{width:`${(s+1)/i.length*100}%`}})}),e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:e.jsx(G,{question:u,questionNumber:s+1,selectedAnswer:r[u.id]??null,onAnswer:o=>n(u.id,o),showResult:!0,buttonPosition:t.btnPos,buttonOrder:t.btnOrder,isActive:!0,activeBorderColor:t.activeBorderColor,isAnimatedTheme:t.isAnimatedTheme})},u.id),e.jsxs("div",{className:"flex gap-4 mt-6",children:[e.jsx("button",{disabled:s===0,onClick:()=>a(s-1),className:"flex-1 py-4 rounded-2xl font-bold text-slate-600 bg-white border border-slate-200 disabled:opacity-30 hover:bg-slate-50",children:"Quay láº¡i"}),e.jsx("button",{disabled:s===i.length-1,onClick:()=>a(s+1),className:`flex-1 py-4 rounded-2xl font-bold text-white bg-custom-primary disabled:opacity-30 hover:brightness-110 shadow-lg ${t.isAnimatedTheme?"animate-gradient":""}`,children:"Káº¿ tiáº¿p"})]})]})}):null},te=({game:l,settings:t})=>e.jsx("div",{className:"space-y-6 px-2",children:l.questions.map((i,s)=>e.jsx("div",{id:`q-card-${i.id}`,className:"scroll-mt-24 transition-all duration-300",children:e.jsx(G,{question:i,questionNumber:s+1,selectedAnswer:l.answers[i.id]??null,onAnswer:r=>l.handleAnswer(i.id,r),showResult:!0,buttonPosition:t.btnPos,buttonOrder:t.btnOrder,isActive:l.currentIdx===s,activeBorderColor:t.activeBorderColor,isAnimatedTheme:t.isAnimatedTheme})},i.id))}),se=()=>{const[l,t]=m.useState({mode:"LIST",autoNext:!0,autoScroll:!0,themeColor:P[0].value,solidColor:P[0].solid,isAnimatedTheme:!0,sidebarPos:"left",isSidebarVisible:!0,btnPos:"center",btnOrder:"true-first",activeBorderColor:"#4f46e5",displayLimit:10}),i=(s,r)=>{t(n=>({...n,[s]:r}))};return m.useEffect(()=>{document.documentElement.style.setProperty("--primary-color",l.themeColor),document.documentElement.style.setProperty("--solid-primary",l.solidColor)},[l.themeColor,l.solidColor]),{settings:l,updateSetting:i}},le=(l,t,i)=>{const[s,r]=m.useState(B),[n,a]=m.useState(0),[u,o]=m.useState({}),[N,T]=m.useState(0),[v,y]=m.useState(!1),{decryptTRUVN:k}=F("SoRor0ieo3IWkzd4WK3P"),$=m.useMemo(()=>`https://script.google.com/macros/s/AKfycby-NkGzOpWgNPOu3GdZMT72Va6vF0IEvtJh0F6E3Oej1HvOZZEPdKjf6UOMj7T0TA-abA/exec?GET=${l}`,[l]),{loading:L,apiData:j,fetchData:C}=W($,!0,{manual:!0});m.useEffect(()=>{(async()=>{if(await C(),j!=null&&j.data){const x=q(j.data,t.displayLimit,k);r(x)}})()},[N,l,t.displayLimit]);const S=m.useCallback(()=>{confirm("LÃ m má»›i láº¡i tá»« Ä‘áº§u?")&&(r([...B]),a(0),o({}),y(!1),T(c=>c+1),window.scrollTo({top:0,behavior:"smooth"}))},[]),M=m.useCallback(()=>{const c=t.displayLimit+10;i("displayLimit",c)},[t.displayLimit,i]),p=m.useCallback(c=>{c<0||c>=s.length||(a(c),t.mode==="LIST"&&setTimeout(()=>{var h;const x=document.getElementById(`q-card-${(h=s[c])==null?void 0:h.id}`);x==null||x.scrollIntoView({behavior:"smooth",block:"start"})},100))},[s,t.mode]),A=m.useCallback(()=>{const x=Date.now()+3e3,h=[t.solidColor,"#ffffff"];(function f(){Q({particleCount:5,angle:60,spread:55,origin:{x:0},colors:h}),Q({particleCount:5,angle:120,spread:55,origin:{x:1},colors:h}),Date.now()<x&&requestAnimationFrame(f)})(),y(!0)},[t.solidColor]);m.useEffect(()=>{if(t.mode==="LIST"&&t.autoScroll){const c=setTimeout(()=>{p(n)},150);return()=>clearTimeout(c)}},[t.mode,t.autoScroll,p,n]);const V=m.useCallback((c,x)=>{const h=s.find(f=>f.id===c);h&&o(f=>{const w={...f,[c]:x};if(h.correctanswer===x){if(s.filter(g=>w[g.id]===g.correctanswer).length===s.length)setTimeout(A,600);else if(t.mode==="SINGLE"&&t.autoNext||t.mode==="LIST"&&t.autoScroll){let g=-1;const R=s.findIndex(d=>d.id===c);for(let d=1;d<s.length;d++){const b=(R+d)%s.length;if(w[s[b].id]!==s[b].correctanswer){g=b;break}}g!==-1&&setTimeout(()=>p(g),600)}}return w})},[s,t.mode,t.autoNext,t.autoScroll,A,p]),I=m.useMemo(()=>s.reduce((c,x)=>c+(u[x.id]===x.correctanswer?1:0),0),[s,u]);return{questions:s,currentIdx:n,answers:u,loading:L,score:I,showSuccessModal:v,setShowSuccessModal:y,handleAnswer:V,handleReset:S,scrollToQuestion:p,loadMore:M}},xe=()=>{const l=H(),{id:t}=_(),[i,s]=m.useState(!1),{settings:r,updateSetting:n}=se(),a=le(t,r,n),u={questions:a.questions,answers:a.answers,currentIdx:a.currentIdx,loadMore:a.loadMore,scrollToQuestion:a.scrollToQuestion,handleReset:a.handleReset,setIsMobileMenuOpen:s,...r,setMode:o=>n("mode",o),setAutoNext:o=>n("autoNext",o),setAutoScroll:o=>n("autoScroll",o),setSidebarPos:o=>n("sidebarPos",o),setBtnPos:o=>n("btnPos",o),setBtnOrder:o=>n("btnOrder",o),setIsAnimatedTheme:o=>n("isAnimatedTheme",o),setThemeColor:o=>n("themeColor",o),setSolidColor:o=>n("solidColor",o),setActiveBorderColor:o=>n("activeBorderColor",o),setIsSidebarVisible:o=>n("isSidebarVisible",o)};return m.useEffect(()=>{r.mode==="SINGLE"&&window.scrollTo({top:0,behavior:"smooth"})},[r.mode]),a.loading?e.jsx(D,{}):e.jsxs(e.Fragment,{children:[l,e.jsxs("div",{className:"relative min-h-screen pb-20 bg-slate-50 flex flex-col",children:[e.jsx(K,{score:a.score,handleReset:a.handleReset,totalQuestions:a.questions.length,isAnimatedTheme:r.isAnimatedTheme,isSidebarVisible:r.isSidebarVisible,setIsSidebarVisible:o=>n("isSidebarVisible",o),setIsMobileMenuOpen:s}),e.jsxs("main",{className:"flex-1 w-full max-w-7xl mx-auto mt-8 flex flex-col lg:flex-row gap-8 relative items-start",children:[e.jsx("aside",{className:`hidden lg:block transition-all duration-500 sticky top-24 z-30 
                            ${r.isSidebarVisible?"w-80 opacity-100 visible translate-x-0":"w-0 opacity-0 invisible translate-x-[-20px]"} 
                            ${r.sidebarPos==="right"?"order-last":"order-first"}`,style:{flexBasis:r.isSidebarVisible?"20rem":"0"},children:e.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 p-6 w-80 max-h-[calc(100vh-120px)] overflow-y-auto",children:e.jsx(z,{...u})})}),e.jsx("div",{className:`flex-1 transition-all duration-500 min-w-0 ${r.sidebarPos==="right"?"order-first":"order-last"}`,children:r.mode==="SINGLE"?e.jsx(ee,{game:a,settings:r}):e.jsx(te,{game:a,settings:r})})]}),e.jsx(Y,{isOpen:i,onClose:()=>s(!1),sidebarProps:u}),a.showSuccessModal&&e.jsx(J,{isAnimatedTheme:r.isAnimatedTheme,handleReset:a.handleReset,onClose:()=>a.setShowSuccessModal(!1),loadMore:a.loadMore})]})]})};export{xe as default};
