import{r as n,j as l,T as f,I as p}from"./index-BaYKvzSN.js";const g=(c,u)=>{const s=String(c).replace("<u>","").replace("</u>",""),[a,r]=n.useState(!1),t=n.useRef(null),e=n.useRef(null);n.useEffect(()=>(e.current=window.speechSynthesis,e.current&&s&&(t.current=new SpeechSynthesisUtterance(s),t.current.lang=u||"ja-JP",t.current.rate=1,t.current.onend=()=>{r(!1)}),()=>{e.current&&e.current.speaking&&e.current.cancel()}),[s]);const o=()=>{e.current&&t.current?(e.current.paused?e.current.resume():(e.current.cancel(),e.current.speak(t.current)),r(!0)):console.warn("Speech synthesis not available or value not provided.")},i=()=>{e.current&&e.current.speaking&&(e.current.pause(),r(!1))};return{isPlaying:a,togglePlayPause:()=>{a?i():o()},play:o,pause:i}};function h({text:c,language:u}){const{isPlaying:s,togglePlayPause:a}=g(c,u),[r,t]=n.useState(!1);return n.useEffect(()=>{t(s)},[s]),l.jsx("div",{children:l.jsx(f,{title:r?"Tắt đọc":"Đọc",className:"cursor-pointer mt-1 p-1 rounded-full shadow shadow-gray-800",onClick:()=>{a(),t(!r)},children:l.jsx(p,{iconName:r?"faVolumeXmark":"faVolumeHigh",className:"aspect-1/1  text-gray-800 dark:text-white"})})})}export{h as B};
