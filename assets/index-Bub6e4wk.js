import{r as a,e as h,b as w}from"./index-BaYKvzSN.js";function g(o,i){const[p,e]=a.useState(!0),[u,r]=a.useState(null),[f,l]=a.useState(null),D=h(),d=w();return a.useEffect(()=>{(async()=>{try{const t=localStorage.getItem(window.location.pathname);if(t){const c=d(t);c&&r(c),e(!1);return}const s=await fetch(`${o}`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const n=await s.json();r(n);const y=D(n);i&&localStorage.setItem(window.location.pathname,y),e(!1)}catch(t){l(t),e(!1)}})()},[o]),{loading:p,apiData:u,error:f}}export{g as u};
