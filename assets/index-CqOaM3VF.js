import{j as e,A as I,r as n,c as v,I as K,g as T,b as S}from"./index-DVRot9C2.js";import{u as E}from"./index-ojk2z693.js";import{I as A}from"./TextField-ywjpoVOS.js";import{C as P}from"./Checkbox-7TROADZ6.js";import"./AddFolderModal-Dr7ybVBc.js";import"./Breadcrumbs-CtQaSOfD.js";function G({infoUser:t}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-2 items-center shadow shadow-gray-500 rounded-full",children:[e.jsx(I,{alt:t==null?void 0:t.displayName,src:t==null?void 0:t.photoURL,className:"border-2  border-indigo-800"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"font-bold text-sm ",children:(t==null?void 0:t.displayName)||"Name"}),e.jsx("p",{className:"text-[12px]",children:(t==null?void 0:t.email)||"Email"})]})]})})}const L="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent",_=({apiKey:t})=>{const s=String(t)||"",[d,l]=n.useState("Đang kiểm tra..."),h=async()=>{var o;if(!s){l("LỖI: Không tìm thấy API Key.");return}const u={contents:[{parts:[{text:"ping"}]}],generationConfig:{maxOutputTokens:1}};try{const a=await fetch(`${L}?key=${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),m=await a.json();if(a.ok)l("✅ Key HOẠT ĐỘNG! ");else{let i="Lỗi không xác định.";a.status===400?i="Lỗi 400: Yêu cầu không hợp lệ.":a.status===401?i="Lỗi 401: Key không hợp lệ hoặc bị thu hồi.":a.status===429?i="Lỗi 429: Vượt quá giới hạn Rate Limit.":i=((o=m.error)==null?void 0:o.message)||`Lỗi ${a.status}: Lỗi máy chủ.`,l(`❌ Key KHÔNG HOẠT ĐỘNG! (${i})`),console.error("Chi tiết lỗi REST API Gemini:",m)}}catch(a){l("❌ Key KHÔNG HOẠT ĐỘNG! (Lỗi kết nối mạng)"),console.error("Lỗi mạng khi gọi API:",a)}};return n.useEffect(()=>{h()},[s]),e.jsx("p",{children:e.jsx("span",{style:{color:d.startsWith("✅")?"green":"red",fontSize:"0.8em"},children:d})})},C="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent";function O({infoUser:t}){const[s,d]=n.useState((t==null?void 0:t.keyGemini)||""),l=v(),[h,u]=n.useState(""),[o,a]=n.useState(""),[m,i]=n.useState(!1),y=2e3,b=500;n.useEffect(()=>{d((t==null?void 0:t.keyGemini)||"")},[t]);const N=async x=>{var f;const g=String(h||s).trim();if(!g)return a("LỖI: Vui lòng nhập API Key."),!1;a("Đang kiểm tra...");const w={contents:[{parts:[{text:"ping"}]}],generationConfig:{maxOutputTokens:1}};try{const r=await fetch(`${C}?key=${g}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}),j=await r.json();if(r.ok){a("✅ Key mới đã được lưu và hoạt động!");let c=g,k={...t,keyGemini:c};return localStorage.setItem("user",l(JSON.stringify(k))),d(c),u(""),!0}else{let c="Lỗi không xác định.";return r.status===400?c="Lỗi 400: KEY không hợp lệ.":r.status===401?c="Lỗi 401: Key không hợp lệ hoặc bị thu hồi.":r.status===429?c="Lỗi 429: Vượt quá giới hạn Rate Limit.":c=((f=j.error)==null?void 0:f.message)||`Lỗi ${r.status}`,a(`❌ Key KHÔNG HOẠT ĐỘNG! (${c})`),console.error("Chi tiết lỗi REST API Gemini:",j),!1}}catch(r){return a("❌ Key KHÔNG HOẠT ĐỘNG! (Lỗi kết nối mạng)"),console.error("Lỗi mạng khi gọi API:",r),!1}};return n.useEffect(()=>{if(!o)return;i(!1);const x=setTimeout(()=>i(!0),y),g=setTimeout(()=>{a(""),i(!1)},y+b);return()=>{clearTimeout(x),clearTimeout(g)}},[o]),e.jsxs("div",{className:"w-full",children:[e.jsx("h1",{className:"text-md bg-white px-2 rounded-2xl text-indigo-800",children:e.jsx(_,{apiKey:s})}),s&&e.jsxs("p",{className:"text-sm",children:["KEY : ",D(s)]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{className:"w-full ",value:h,onChange:x=>u(x.target.value),placeholder:s?"Nhập key mới muốn đổi":"Dán Key AI tại đây"}),e.jsx("button",{onClick:()=>N(),className:"w-10 aspect-square bg-white rounded-sm",title:"Kiểm tra API Key",children:e.jsx(K,{iconName:"faPaperPlane",className:"text-sky-600"})})]}),o&&e.jsx("p",{className:"mt-2 text-sm",style:{color:o.startsWith("✅")?"green":"red",opacity:m?0:1,transition:`opacity ${b}ms ease`},children:o})]})}const D=t=>(t=String(t).replace(/.(?=.{5})/g,"*"),t);function H({infoUser:t}){return e.jsx("div",{className:"w-full  overflow-y-scroll",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(P,{checked:!!(t!=null&&t.keyGemini),color:"success"}),e.jsx("p",{children:"KeyAPI"})]})})}const $=t=>{const s=t(localStorage.getItem("user"));return JSON.parse(s)};function J(){const{user:t}=n.useContext(T),[s,d]=n.useState({}),l=S(),h=E();return n.useEffect(()=>{d(u=>$(l))},[t]),n.useEffect(()=>{window.scrollY&&window.scrollTo({top:0,behavior:"smooth"})}),e.jsxs("div",{className:"px-4 md:px-0 min-h-screen w-full flex flex-col gap-5",children:[e.jsx("section",{children:h}),e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2  bg-indigo-300 w-full aspect-4/1 rounded-2xl shadow-md shadow-gray-500/50",children:[e.jsxs("div",{className:"flex flex-col gap-2 w-full h-full bg-white p-2 ",children:[e.jsx("h1",{className:"text-sm md:text-xl font-bold",children:"Thông tin các nhân"}),e.jsx(G,{infoUser:s}),e.jsx(H,{infoUser:s})]}),e.jsx("div",{className:"w-full p-2",children:e.jsx(O,{infoUser:s})})]}),e.jsxs("section",{id:"DanhSachTienIch",children:[e.jsx("h1",{className:"ext-sm md:text-xl font-bold mb-5",children:"Danh sách thư mục"}),e.jsxs("p",{className:"text-indigo-800 font-bold",children:["Xin lỗi vì bất tiện này !"," "]}),e.jsxs("p",{children:["Hiện tại trang đang trong quá trình phát triển , đây chưa phải phiên bản hoàn thiện nhất ."," "]}),e.jsxs("p",{children:["Để lấy key sử dụng ",e.jsx("b",{className:"text-indigo-800",children:"AI"})," . Vui lòng ấn nút dưới đây"]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 my-4",children:[e.jsx(p,{url:"https://www.facebook.com/Puti78/",text:"Facebook"}),e.jsx(p,{url:"https://m.me/Puti78/",text:"Message"}),e.jsx(p,{url:"https://www.tiktok.com/@tiengnhatkantan.com",text:"Tiktok"})]}),e.jsxs("p",{children:[e.jsx("b",{className:"text-indigo-800",children:"Gửi nội dung :"})," ",e.jsx("b",{children:"KEY + [Gmail đăng nhập của bạn]"})]}),e.jsx("p",{children:"Cảm ơn bạn sử dụng! "})]})]})}function p({url:t,text:s}){return e.jsxs("a",{href:t,class:"relative group cursor-pointer",children:[e.jsx("div",{class:"relative px-6 py-2 border-2 border-blue-500 text-blue-500 font-bold text-lg rounded-lg transform transition-all duration-300 group-hover:translate-y-1 group-hover:translate-x-1 shadow-[6px_6px_10px_rgba(0,0,0,0.6),-6px_-6px_10px_rgba(255,255,255,0.1)] group-hover:shadow-[8px_8px_15px_rgba(0,0,0,0.8),-8px_-8px_15px_rgba(255,255,255,0.15)]",children:s}),e.jsx("div",{class:"absolute inset-0 border-2 border-dashed border-blue-500 rounded-lg opacity-50 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{class:"absolute -top-2 -right-2 w-4 h-4 bg-blue-500 rounded-full animate-ping shadow-lg"}),e.jsx("div",{class:"absolute -bottom-2 -left-2 w-4 h-4 bg-blue-500 rounded-full animate-ping shadow-lg"}),e.jsx("div",{class:"absolute top-1/3 left-3 w-3 h-3 bg-blue-400 rounded-full animate-ping opacity-70"}),e.jsx("div",{class:"absolute top-2/3 right-3 w-3 h-3 bg-blue-400 rounded-full animate-ping opacity-70"})]})}export{J as default};
